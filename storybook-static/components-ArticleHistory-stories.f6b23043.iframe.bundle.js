"use strict";(self.webpackChunksuzumiyaaoba_github_io=self.webpackChunksuzumiyaaoba_github_io||[]).push([[5506],{"./src/components/ArticleHistory.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DarkTheme:()=>DarkTheme,Default:()=>Default,EmptyHistory:()=>EmptyHistory,EmptyHistoryDark:()=>EmptyHistoryDark,LongHistory:()=>LongHistory,LongHistoryDark:()=>LongHistoryDark,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ArticleHistory_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),format=__webpack_require__("./node_modules/date-fns/format.js");const formatDistanceLocale={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}};var buildFormatLongFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildFormatLongFn.js");const formatLong={date:(0,buildFormatLongFn.k)({formats:{full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},defaultWidth:"full"}),time:(0,buildFormatLongFn.k)({formats:{full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},defaultWidth:"full"}),dateTime:(0,buildFormatLongFn.k)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},formatRelativeLocale={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"};var buildLocalizeFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildLocalizeFn.js");const localize={ordinalNumber:(dirtyNumber,options)=>{const number=Number(dirtyNumber);switch(String(options?.unit)){case"year":return`${number}年`;case"quarter":return`第${number}四半期`;case"month":return`${number}月`;case"week":return`第${number}週`;case"date":return`${number}日`;case"hour":return`${number}時`;case"minute":return`${number}分`;case"second":return`${number}秒`;default:return`${number}`}},era:(0,buildLocalizeFn.o)({values:{narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},defaultWidth:"wide"}),quarter:(0,buildLocalizeFn.o)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},defaultWidth:"wide",argumentCallback:quarter=>Number(quarter)-1}),month:(0,buildLocalizeFn.o)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},defaultWidth:"wide"}),day:(0,buildLocalizeFn.o)({values:{narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},defaultWidth:"wide"}),dayPeriod:(0,buildLocalizeFn.o)({values:{narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},defaultWidth:"wide",formattingValues:{narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},defaultFormattingWidth:"wide"})};var buildMatchPatternFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildMatchPatternFn.js"),buildMatchFn=__webpack_require__("./node_modules/date-fns/locale/_lib/buildMatchFn.js");const ja={code:"ja",formatDistance:(token,count,options)=>{let result;options=options||{};const tokenValue=formatDistanceLocale[token];return result="string"==typeof tokenValue?tokenValue:1===count?options.addSuffix&&tokenValue.oneWithSuffix?tokenValue.oneWithSuffix:tokenValue.one:options.addSuffix&&tokenValue.otherWithSuffix?tokenValue.otherWithSuffix.replace("{{count}}",String(count)):tokenValue.other.replace("{{count}}",String(count)),options.addSuffix?options.comparison&&options.comparison>0?result+"後":result+"前":result},formatLong,formatRelative:(token,_date,_baseDate,_options)=>formatRelativeLocale[token],localize,match:{ordinalNumber:(0,buildMatchPatternFn.K)({matchPattern:/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,parsePattern:/\d+/i,valueCallback:function(value){return parseInt(value,10)}}),era:(0,buildMatchFn.A)({matchPatterns:{narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},defaultParseWidth:"any"}),quarter:(0,buildMatchFn.A)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},defaultParseWidth:"any",valueCallback:index=>index+1}),month:(0,buildMatchFn.A)({matchPatterns:{narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},defaultParseWidth:"any"}),day:(0,buildMatchFn.A)({matchPatterns:{narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},defaultMatchWidth:"wide",parsePatterns:{any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},defaultParseWidth:"any"}),dayPeriod:(0,buildMatchFn.A)({matchPatterns:{any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var iconify=__webpack_require__("./node_modules/@iconify/react/dist/iconify.js");function ArticleHistory({history,createdDate,lastModified,repoUrl,className=""}){return 0!==history.length||createdDate||lastModified?(0,jsx_runtime.jsxs)("details",{className:`border rounded-lg ${className}`,style:{backgroundColor:"var(--background-secondary)",borderColor:"var(--border)"},children:[(0,jsx_runtime.jsxs)("summary",{className:"flex items-center gap-2 text-lg font-semibold p-4 cursor-pointer rounded-t-lg transition-colors duration-200 hover:opacity-80",style:{color:"var(--foreground)"},children:[(0,jsx_runtime.jsx)(iconify.In,{icon:"lucide:calendar",width:20,height:20,style:{color:"currentColor"}}),"記事履歴"]}),(0,jsx_runtime.jsxs)("div",{className:"p-4 pt-0",children:[(createdDate||lastModified)&&(0,jsx_runtime.jsxs)("div",{className:"mb-4 p-3 rounded border",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},children:[createdDate&&(0,jsx_runtime.jsxs)("div",{className:"text-sm",style:{color:"var(--muted)"},children:[(0,jsx_runtime.jsx)("strong",{children:"作成:"})," ",(0,format.GP)(new Date(createdDate),"yyyy年M月d日",{locale:ja})]}),lastModified&&lastModified!==createdDate&&(0,jsx_runtime.jsxs)("div",{className:"text-sm",style:{color:"var(--muted)"},children:[(0,jsx_runtime.jsx)("strong",{children:"最終更新:"})," ",(0,format.GP)(new Date(lastModified),"yyyy年M月d日",{locale:ja})]})]}),history.length>0&&(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsxs)("div",{className:"text-md font-medium mb-3",style:{color:"var(--foreground)"},children:["更新履歴（直近",Math.min(history.length,10),"件）"]}),(0,jsx_runtime.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:history.slice(0,10).map((commit=>(0,jsx_runtime.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded border",style:{backgroundColor:"var(--background)",borderColor:"var(--border)"},children:[(0,jsx_runtime.jsx)(iconify.In,{icon:"octicon:git-commit-16",width:16,height:16,className:"mt-0.5",style:{color:"var(--muted)"}}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jsx_runtime.jsx)("div",{className:"text-sm font-medium",style:{color:"var(--foreground)"},children:commit.message}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-xs",style:{color:"var(--muted)"},children:[(0,jsx_runtime.jsxs)("span",{className:"flex items-center gap-1",children:[(0,jsx_runtime.jsx)(iconify.In,{icon:"lucide:user",width:12,height:12,style:{color:"currentColor"}}),commit.author]}),(0,jsx_runtime.jsx)("span",{children:(0,format.GP)(new Date(commit.date),"yyyy/M/d HH:mm",{locale:ja})}),repoUrl?(0,jsx_runtime.jsx)("a",{href:`${repoUrl}/commit/${commit.hash}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs hover:underline transition-colors duration-200",style:{color:"var(--accent-primary)"},children:commit.hash.substring(0,7)}):(0,jsx_runtime.jsx)("span",{className:"font-mono text-xs",children:commit.hash.substring(0,7)})]})]})]},commit.hash)))}),history.length>10&&(0,jsx_runtime.jsxs)("div",{className:"mt-2 text-xs text-center",style:{color:"var(--muted)"},children:["他 ",history.length-10," 件の更新履歴があります"]})]})]})]}):null}ArticleHistory.__docgenInfo={description:"",methods:[],displayName:"ArticleHistory",props:{history:{required:!0,tsType:{name:"Array",elements:[{name:"GitCommit"}],raw:"GitCommit[]"},description:""},createdDate:{required:!1,tsType:{name:"string"},description:""},lastModified:{required:!1,tsType:{name:"string"},description:""},repoUrl:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};var addLeadingZeros=__webpack_require__("./node_modules/date-fns/_lib/addLeadingZeros.js"),toDate=__webpack_require__("./node_modules/date-fns/toDate.js");function formatISO(date,options){const date_=(0,toDate.a)(date,options?.in);if(isNaN(+date_))throw new RangeError("Invalid time value");const format=options?.format??"extended",representation=options?.representation??"complete";let result="",tzOffset="";const dateDelimiter="extended"===format?"-":"",timeDelimiter="extended"===format?":":"";if("time"!==representation){const day=(0,addLeadingZeros.F)(date_.getDate(),2),month=(0,addLeadingZeros.F)(date_.getMonth()+1,2);result=`${(0,addLeadingZeros.F)(date_.getFullYear(),4)}${dateDelimiter}${month}${dateDelimiter}${day}`}if("date"!==representation){const offset=date_.getTimezoneOffset();if(0!==offset){const absoluteOffset=Math.abs(offset);tzOffset=`${offset<0?"+":"-"}${(0,addLeadingZeros.F)(Math.trunc(absoluteOffset/60),2)}:${(0,addLeadingZeros.F)(absoluteOffset%60,2)}`}else tzOffset="Z";result=`${result}${""===result?"":"T"}${[(0,addLeadingZeros.F)(date_.getHours(),2),(0,addLeadingZeros.F)(date_.getMinutes(),2),(0,addLeadingZeros.F)(date_.getSeconds(),2)].join(timeDelimiter)}${tzOffset}`}return result}var constructFrom=__webpack_require__("./node_modules/date-fns/constructFrom.js");function addDays(date,amount,options){const _date=(0,toDate.a)(date,options?.in);return isNaN(amount)?(0,constructFrom.w)(options?.in||date,NaN):amount?(_date.setDate(_date.getDate()+amount),_date):_date}function subDays(date,amount,options){return addDays(date,-amount,options)}const ArticleHistory_stories={title:"Components/ArticleHistory",component:ArticleHistory,parameters:{backgrounds:{default:"light",values:[{name:"light",value:"#ffffff"},{name:"dark",value:"#1f2937"}]}}},mockHistory=Array.from({length:5}).map(((_,i)=>({hash:`abcdef${i}`,date:formatISO(subDays(new Date,2*i)),message:`コミットメッセージ ${i+1}`,author:"SuzumiyaAoba"}))),Default={args:{history:mockHistory,createdDate:formatISO(subDays(new Date,30)),lastModified:formatISO(new Date)}},DarkTheme={args:{history:mockHistory,createdDate:formatISO(subDays(new Date,30)),lastModified:formatISO(new Date)},parameters:{backgrounds:{default:"dark"}},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"dark",children:(0,jsx_runtime.jsx)(Story,{})})]},LongHistory={args:{history:Array.from({length:15}).map(((_,i)=>({hash:`abcdef${i}${Math.random().toString(36).substr(2,9)}`,date:formatISO(subDays(new Date,i)),message:`長いコミットメッセージサンプル ${i+1}: Lorem ipsum dolor sit amet consectetur adipiscing elit`,author:"SuzumiyaAoba"}))),createdDate:formatISO(subDays(new Date,30)),lastModified:formatISO(new Date),repoUrl:"https://github.com/SuzumiyaAoba/SuzumiyaAoba.github.io"}},LongHistoryDark={args:{history:Array.from({length:15}).map(((_,i)=>({hash:`abcdef${i}${Math.random().toString(36).substr(2,9)}`,date:formatISO(subDays(new Date,i)),message:`長いコミットメッセージサンプル ${i+1}: Lorem ipsum dolor sit amet consectetur adipiscing elit`,author:"SuzumiyaAoba"}))),createdDate:formatISO(subDays(new Date,30)),lastModified:formatISO(new Date),repoUrl:"https://github.com/SuzumiyaAoba/SuzumiyaAoba.github.io"},parameters:{backgrounds:{default:"dark"}},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"dark",children:(0,jsx_runtime.jsx)(Story,{})})]},EmptyHistory={args:{history:[],createdDate:formatISO(subDays(new Date,30)),lastModified:formatISO(new Date)}},EmptyHistoryDark={args:{history:[],createdDate:formatISO(subDays(new Date,30)),lastModified:formatISO(new Date)},parameters:{backgrounds:{default:"dark"}},decorators:[Story=>(0,jsx_runtime.jsx)("div",{className:"dark",children:(0,jsx_runtime.jsx)(Story,{})})]},__namedExportsOrder=["Default","DarkTheme","LongHistory","LongHistoryDark","EmptyHistory","EmptyHistoryDark"]}}]);